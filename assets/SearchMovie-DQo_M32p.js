import{_ as b,r as i,h as u,w as M,c as r,d as a,b as f,t as c,i as P,M as k,u as x,j as B,k as N,l as w,f as v}from"./index-C7HwqehV.js";const C={class:"search-page"},E=["disabled"],S={class:"pagination-info"},V=["disabled"],I={key:0,class:"movie-posters"},R={key:1,class:"empty-info"},d=10,T={__name:"SearchMovie",setup($){const p=x(),o=i([]),_=u(()=>o.value.length===0);M(async()=>{const s=p.params.text,t=p.params.type;let n=[];t==="title"?n=await B(s,10):t==="year"?n=await N(s):t==="genre"&&(n=await w(Number(s))),o.value=n,m.value=o.value.length,e.value=1,document.title=`Recherche ${t} - ${s}`});const e=i(1),m=i(0),l=u(()=>Math.ceil(o.value.length/d)),g=u(()=>{const s=(e.value-1)*d,t=s+d;return o.value.slice(s,t)});function h(){e.value<l.value&&e.value++}function y(){e.value>1&&e.value--}return(s,t)=>(v(),r("div",C,[a("nav",null,[a("button",{onClick:y,disabled:e.value===1||l.value===0}," Previous ",8,E),a("div",S,[a("p",null,"Page "+c(e.value)+" / "+c(l.value),1),a("p",null,"Total results : "+c(m.value),1)]),a("button",{onClick:h,disabled:e.value===l.value||l.value===0}," Next ",8,V)]),_.value?f("",!0):(v(),r("div",I,[P(k,{movies:g.value},null,8,["movies"])])),_.value?(v(),r("div",R,t[0]||(t[0]=[a("p",{id:"no-result"},"No results found",-1)]))):f("",!0)]))}},D=b(T,[["__scopeId","data-v-b9818c85"]]);export{D as default};
